{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///Applications/MAMP/htdocs/battle4/app/api/twitch/auth/route.js"],"sourcesContent":["import { NextResponse } from \"next/server\";\n\nexport async function GET(req) {\n  const clientId = process.env.TWITCH_CLIENT_ID;\n  const redirectUri =\n    \"https://noncommunistically-unsedentary-jennell.ngrok-free.dev/auth/callback\";\n  const scope = \"user:read:email\"; // Ajoutez les scopes nécessaires\n\n  // Logs pour le débogage\n  console.log(\"Client ID:\", clientId);\n  console.log(\"Redirect URI:\", redirectUri);\n  console.log(\"Scopes:\", scope);\n\n  if (!clientId) {\n    console.error(\n      \"Erreur: TWITCH_CLIENT_ID n'est pas défini dans les variables d'environnement.\"\n    );\n    return NextResponse.json(\n      { error: \"Configuration serveur invalide.\" },\n      { status: 500 }\n    );\n  }\n\n  const authUrl = `https://id.twitch.tv/oauth2/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=code&scope=${scope}`;\n  console.log(\"Auth URL générée:\", authUrl);\n\n  return NextResponse.redirect(authUrl);\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,GAAG;IAC3B,MAAM,WAAW,QAAQ,GAAG,CAAC,gBAAgB;IAC7C,MAAM,cACJ;IACF,MAAM,QAAQ,mBAAmB,iCAAiC;IAElE,wBAAwB;IACxB,QAAQ,GAAG,CAAC,cAAc;IAC1B,QAAQ,GAAG,CAAC,iBAAiB;IAC7B,QAAQ,GAAG,CAAC,WAAW;IAEvB,IAAI,CAAC,UAAU;QACb,QAAQ,KAAK,CACX;QAEF,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAkC,GAC3C;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,UAAU,CAAC,gDAAgD,EAAE,SAAS,cAAc,EAAE,YAAY,0BAA0B,EAAE,OAAO;IAC3I,QAAQ,GAAG,CAAC,qBAAqB;IAEjC,OAAO,gJAAY,CAAC,QAAQ,CAAC;AAC/B","debugId":null}}]
}